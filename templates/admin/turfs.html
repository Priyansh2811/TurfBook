{% extends 'base.html' %}
{% block title %}Manage Turfs - Admin{% endblock %}

{% block extra_css %}
<style>
  .admin-layout { display: grid; grid-template-columns: 240px 1fr; gap: 0; min-height: calc(100vh - 64px); }
  .admin-sidebar { background: #1f2937; padding: 24px 16px; }
  .admin-sidebar h3 { color: #9ca3af; font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.1em; margin: 20px 0 8px; padding: 0 8px; }
  .admin-nav a { display: flex; align-items: center; gap: 10px; padding: 10px 12px; border-radius: 10px; color: #9ca3af; font-size: 0.95rem; margin-bottom: 2px; transition: all 0.2s; }
  .admin-nav a:hover, .admin-nav a.active { background: rgba(34,197,94,0.15); color: #4ade80; }
  .admin-nav a i { width: 18px; }
  .admin-content { padding: 30px; background: #f9fafb; }
  table { width: 100%; border-collapse: collapse; font-size: 0.9rem; }
  th { background: #f3f4f6; padding: 12px 16px; text-align: left; font-weight: 700; color: #374151; }
  td { padding: 12px 16px; border-bottom: 1px solid #f3f4f6; }
  .table-card { background: white; border-radius: 16px; box-shadow: 0 2px 12px rgba(0,0,0,0.07); overflow: hidden; }
  .table-card-header { padding: 20px 24px; border-bottom: 1px solid #f3f4f6; display: flex; justify-content: space-between; align-items: center; }
</style>
{% endblock %}

{% block content %}
<div class="admin-layout">
  <div class="admin-sidebar">
    <div class="admin-nav">
      <h3>Main</h3>
      <a href="/admin"><i class="fa fa-tachometer-alt"></i> Dashboard</a>
      <a href="/admin/turfs" class="active"><i class="fa fa-map-marker-alt"></i> Turfs</a>
      <a href="/admin/bookings"><i class="fa fa-calendar"></i> Bookings</a>
      <a href="/admin/users"><i class="fa fa-users"></i> Users</a>
      <h3>Site</h3>
      <a href="/"><i class="fa fa-home"></i> View Site</a>
      <a href="/logout"><i class="fa fa-sign-out-alt"></i> Logout</a>
    </div>
  </div>

  <div class="admin-content">
    <div class="table-card">
      <div class="table-card-header">
        <h3>All Turfs ({{ turfs|length }})</h3>
        <a href="/admin/turf/add" class="btn btn-green btn-sm"><i class="fa fa-plus"></i> Add Turf</a>
      </div>
      <table>
        <thead>
          <tr><th>Name</th><th>Location</th><th>Sports</th><th>Price/hr</th><th>Rating</th><th>Status</th><th>Actions</th></tr>
        </thead>
        <tbody>
          {% for t in turfs %}
          <tr>
            <td><strong>{{ t.name }}</strong></td>
            <td>{{ t.location }}, {{ t.city }}</td>
            <td>{{ t.sports }}</td>
            <td>₹{{ t.price_per_hour }}</td>
            <td>⭐ {{ t.rating }} ({{ t.review_count }})</td>
            <td><span class="badge {{ 'badge-green' if t.is_active else 'badge-red' }}">{{ 'Active' if t.is_active else 'Inactive' }}</span></td>
            <td>
              <a href="/turf/{{ t.id }}" class="btn btn-outline btn-sm">View</a>
              {% if t.is_active %}
              <form action="/admin/turf/delete/{{ t.id }}" method="post" style="display:inline" onsubmit="return confirm('Deactivate this turf?')">
                <button class="btn btn-red btn-sm">Deactivate</button>
              </form>
              {% endif %}
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock %}
