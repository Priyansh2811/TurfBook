{% extends 'base.html' %}
{% block title %}All Bookings - Admin{% endblock %}

{% block extra_css %}
<style>
  .admin-layout { display: grid; grid-template-columns: 240px 1fr; gap: 0; min-height: calc(100vh - 64px); }
  .admin-sidebar { background: #1f2937; padding: 24px 16px; }
  .admin-sidebar h3 { color: #9ca3af; font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.1em; margin: 20px 0 8px; padding: 0 8px; }
  .admin-nav a { display: flex; align-items: center; gap: 10px; padding: 10px 12px; border-radius: 10px; color: #9ca3af; font-size: 0.95rem; margin-bottom: 2px; transition: all 0.2s; }
  .admin-nav a:hover, .admin-nav a.active { background: rgba(34,197,94,0.15); color: #4ade80; }
  .admin-nav a i { width: 18px; }
  .admin-content { padding: 30px; background: #f9fafb; overflow-x: auto; }
  table { width: 100%; border-collapse: collapse; font-size: 0.88rem; }
  th { background: #f3f4f6; padding: 11px 14px; text-align: left; font-weight: 700; color: #374151; white-space: nowrap; }
  td { padding: 11px 14px; border-bottom: 1px solid #f3f4f6; }
  .table-card { background: white; border-radius: 16px; box-shadow: 0 2px 12px rgba(0,0,0,0.07); overflow: hidden; }
  .table-card-header { padding: 20px 24px; border-bottom: 1px solid #f3f4f6; }
  .table-card-header h3 { font-size: 1.05rem; font-weight: 700; }
</style>
{% endblock %}

{% block content %}
<div class="admin-layout">
  <div class="admin-sidebar">
    <div class="admin-nav">
      <h3>Main</h3>
      <a href="/admin"><i class="fa fa-tachometer-alt"></i> Dashboard</a>
      <a href="/admin/turfs"><i class="fa fa-map-marker-alt"></i> Turfs</a>
      <a href="/admin/bookings" class="active"><i class="fa fa-calendar"></i> Bookings</a>
      <a href="/admin/users"><i class="fa fa-users"></i> Users</a>
      <h3>Site</h3>
      <a href="/"><i class="fa fa-home"></i> View Site</a>
      <a href="/logout"><i class="fa fa-sign-out-alt"></i> Logout</a>
    </div>
  </div>

  <div class="admin-content">
    <div class="table-card">
      <div class="table-card-header">
        <h3>All Bookings ({{ bookings|length }})</h3>
      </div>
      <table>
        <thead>
          <tr><th>#</th><th>User</th><th>Turf</th><th>Date</th><th>Time</th><th>Sport</th><th>Amount</th><th>Status</th></tr>
        </thead>
        <tbody>
          {% for b in bookings %}
          <tr>
            <td>{{ b.id }}</td>
            <td>{{ b.user_name }}</td>
            <td>{{ b.turf_name }}</td>
            <td>{{ b.booking_date }}</td>
            <td>{{ b.start_time }} – {{ b.end_time }}</td>
            <td>{{ b.sport }}</td>
            <td><strong>₹{{ b.total_amount }}</strong></td>
            <td><span class="badge {{ 'badge-green' if b.status == 'confirmed' else 'badge-red' }}">{{ b.status }}</span></td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock %}
