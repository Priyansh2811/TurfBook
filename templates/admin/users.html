{% extends 'base.html' %}
{% block title %}Users - Admin{% endblock %}

{% block extra_css %}
<style>
  .admin-layout { display: grid; grid-template-columns: 240px 1fr; gap: 0; min-height: calc(100vh - 64px); }
  .admin-sidebar { background: #1f2937; padding: 24px 16px; }
  .admin-sidebar h3 { color: #9ca3af; font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.1em; margin: 20px 0 8px; padding: 0 8px; }
  .admin-nav a { display: flex; align-items: center; gap: 10px; padding: 10px 12px; border-radius: 10px; color: #9ca3af; font-size: 0.95rem; margin-bottom: 2px; transition: all 0.2s; }
  .admin-nav a:hover, .admin-nav a.active { background: rgba(34,197,94,0.15); color: #4ade80; }
  .admin-nav a i { width: 18px; }
  .admin-content { padding: 30px; background: #f9fafb; }
  table { width: 100%; border-collapse: collapse; font-size: 0.9rem; }
  th { background: #f3f4f6; padding: 12px 16px; text-align: left; font-weight: 700; color: #374151; }
  td { padding: 12px 16px; border-bottom: 1px solid #f3f4f6; }
  .table-card { background: white; border-radius: 16px; box-shadow: 0 2px 12px rgba(0,0,0,0.07); overflow: hidden; }
  .table-card-header { padding: 20px 24px; border-bottom: 1px solid #f3f4f6; }
  .table-card-header h3 { font-size: 1.05rem; font-weight: 700; }
  .avatar-sm { width: 36px; height: 36px; background: linear-gradient(135deg, var(--green), var(--green-dark)); border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: 0.85rem; }
</style>
{% endblock %}

{% block content %}
<div class="admin-layout">
  <div class="admin-sidebar">
    <div class="admin-nav">
      <h3>Main</h3>
      <a href="/admin"><i class="fa fa-tachometer-alt"></i> Dashboard</a>
      <a href="/admin/turfs"><i class="fa fa-map-marker-alt"></i> Turfs</a>
      <a href="/admin/bookings"><i class="fa fa-calendar"></i> Bookings</a>
      <a href="/admin/users" class="active"><i class="fa fa-users"></i> Users</a>
      <h3>Site</h3>
      <a href="/"><i class="fa fa-home"></i> View Site</a>
      <a href="/logout"><i class="fa fa-sign-out-alt"></i> Logout</a>
    </div>
  </div>

  <div class="admin-content">
    <div class="table-card">
      <div class="table-card-header">
        <h3>All Users ({{ users|length }})</h3>
      </div>
      <table>
        <thead>
          <tr><th>User</th><th>Email</th><th>Phone</th><th>Role</th><th>Joined</th></tr>
        </thead>
        <tbody>
          {% for u in users %}
          <tr>
            <td style="display:flex; align-items:center; gap:10px;">
              <div class="avatar-sm">{{ u.name[0].upper() }}</div>
              {{ u.name }}
            </td>
            <td>{{ u.email }}</td>
            <td>{{ u.phone or 'â€”' }}</td>
            <td><span class="badge {{ 'badge-yellow' if u.role == 'admin' else 'badge-gray' }}">{{ u.role.title() }}</span></td>
            <td>{{ u.created_at[:10] }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock %}
